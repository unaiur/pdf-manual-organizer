# PDF Manual Index JSON Schema

## Overview
This schema defines the structure of the JSON index generated by the PDF indexing tool. The index is used by the web app to locate, filter, and display manuals.

## Top-Level Structure
```json
{
  "generatedAt": "2025-07-29T12:00:00Z",
  "pdfs": [
    { /* PDF entry */ },
    ...
  ]
}
```

- `generatedAt`: ISO8601 timestamp of index generation.
- `pdfs`: Array of PDF metadata entries.

## PDF Entry Structure
```json
{
  "path": "pdf/coffee/siemens-espresso-3000.pdf",
  "filename": "siemens-espresso-3000.pdf",
  "hash": "sha256:...",
  "title": "Siemens Espresso 3000 User Guide",
  "brand": "Siemens",
  "model": "Espresso 3000",
  "device": "coffee maker",
  "manualType": "user guide",
  "tags": ["brand=Siemens", "device=coffee maker", "manualType=user guide"],
  "extraTags": ["location=kitchen"],
  "pages": 48,
  "lastModified": "2025-07-28T18:00:00Z"
}
```

### Fields
- `path`: Relative path to the PDF (from web root).
- `filename`: PDF file name.
- `hash`: SHA256 hash of the file (for cache/integrity).
- `title`: Title extracted from PDF or inferred.
- `brand`: Brand/manufacturer (e.g., Siemens).
- `model`: Model name/number.
- `device`: Device type (e.g., coffee maker, fridge).
- `manualType`: Type of manual (user guide, installation, warranty, etc).
- `tags`: Array of standard tags (key=value).
- `extraTags`: Array of user-supplied tags from `.tags` file.
- `pages`: Number of pages in the PDF.
- `lastModified`: Last modified timestamp (ISO8601).

## Tag Conventions
- Tags are always `key=value` (lowercase keys, spaces allowed in values).
- Standard keys: `brand`, `model`, `device`, `manualType`.
- User can add any extra tags in `.tags` files.

## Example
```json
{
  "generatedAt": "2025-07-29T12:00:00Z",
  "pdfs": [
    {
      "path": "pdf/coffee/siemens-espresso-3000.pdf",
      "filename": "siemens-espresso-3000.pdf",
      "hash": "sha256:abc123...",
      "title": "Siemens Espresso 3000 User Guide",
      "brand": "Siemens",
      "model": "Espresso 3000",
      "device": "coffee maker",
      "manualType": "user guide",
      "tags": ["brand=Siemens", "device=coffee maker", "manualType=user guide"],
      "extraTags": ["location=kitchen"],
      "pages": 48,
      "lastModified": "2025-07-28T18:00:00Z"
    }
  ]
}
```
